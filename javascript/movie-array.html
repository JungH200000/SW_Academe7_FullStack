<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>배열 응용</title>
    <style>
      /* 이미지들이 한 줄로 보이도록 */
      #demo {
        display: flex;
        gap: 10px;
      }
      #demo img {
        width: 150px;
        height: 220px;
        object-fit: cover; /* 이미지가 비율 유지하며 꽉 차게 */
      }
    </style>
  </head>
  <body>
    <button id="bt1">Click Me</button>
    <button id="bt2">현재 상영작 보기</button>
    <button id="btMove">Move</button>
    <button id="btStop">Stop</button>
    <hr />
    <div id="demo"></div>

    <script>
      // 영화 이미지들의 경로를 배열 arr에 저장
      const arr = [
        '/images/movie_f1.jpeg',
        '/images/movie_zombie.jpeg',
        '/images/movie_gg.jpeg',
        '/images/movie_fantastic.jpeg',
        '/images/movie_bad-guys.jpeg',
      ];

      const demoDiv = document.getElementById('demo');
      const bt1 = document.getElementById('bt1');
      const bt2 = document.getElementById('bt2');
      const btMove = document.getElementById('btMove');
      const btStop = document.getElementById('btStop');

      //'Click Me'를 클릭하면 arr에 저장된 문자열을 id가 demo인 곳에 출력
      bt1.addEventListener('click', function () {
        demoDiv.textContent = arr.join(', ');
      });

      // '현재 상영작 보기'를 클릭하면 id가 demo인 곳에 img 태그로 배열에 저장된 이미지들을 출력
      bt2.addEventListener('click', function () {
        let imageTags = ''; // 이미지 태그들을 담을 변수
        for (let i = 0; i < arr.length; i++) {
          imageTags += `<img src="${arr[i]}" alt="영화 포스터 ${i + 1}">`;
        }
        demoDiv.innerHTML = imageTags;
      });

      // 'Move' 버튼 클릭하면 영화 이미지들이 움직임
      let intervalId = null;

      btMove.addEventListener('click', function () {
        // 이미 interval이 실행 중이면 중복 실행 방지
        if (intervalId !== null) {
          return;
        }

        // 1초마다 배열의 첫 번째 요소를 맨 뒤로 이동
        intervalId = setInterval(function () {
          // 배열의 첫 번째 요소를 잘라서 맨 뒤에 추가
          const firstMovie = arr.shift();
          arr.push(firstMovie);

          // 변경된 배열 순서대로 다시 이미지들을 화면에 출력
          let imageTags = '';
          for (let i = 0; i < arr.length; i++) {
            imageTags += `<img src="${arr[i]}" alt="영화 포스터 ${i + 1}">`;
          }
          demoDiv.innerHTML = imageTags;
        }, 1000); // 1초 간격
      });

      // 'Stop' 버튼 클릭하면 움직이는 것을 멈춥니다.
      btStop.addEventListener('click', function () {
        clearInterval(intervalId); // setInterval을 멈춤
        intervalId = null; // intervalId를 초기화하여 다시 Move를 누를 수 있게 설정
      });
    </script>
  </body>
</html>
