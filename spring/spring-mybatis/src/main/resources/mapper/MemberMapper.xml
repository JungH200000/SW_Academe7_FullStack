<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper
 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.my.spring_mybatis.member.mapper.MemberMapper">

    <insert id="createMember">
        insert into members(name,email,passwd,role)
        values(#{name},#{email},#{passwd},#{role})
    </insert>
    <!--    이메일 중복체크-->
    <select id="checkEmail" parameterType="string" resultType="int">
        select id from members where email=#{email}
    </select>
    <select id="listMember" resultType="com.my.spring_mybatis.member.domain.MemberDTO">
        select id,name,email,role,createdAt from members
        order by mid desc
    </select>

<!--    [로그인/MyPage]-->
    <select id="findByEmail" parameterType="string"
            resultType="com.my.spring_mybatis.member.domain.MemberDTO">
        select * from members
        <where>
            email=#{email}
        </where>
    </select>



</mapper>